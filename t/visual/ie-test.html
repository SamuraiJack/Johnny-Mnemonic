<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<script type="text/javascript" src="/jsan/Task/Joose/Core.js"></script>
	
		<!-- Ext bridge  -->
		
		<link rel="stylesheet" type="text/css" href="/jsan/Task/ExtJS/static/css/ext-all.css">
		<script type="text/javascript" src="/jsan/Task/ExtJS/Adapter/Ext.js"></script>

        <script type="text/javascript" src="/jsan/JooseX/Meta/Lazy.js"></script>
		<script type="text/javascript" src="/jsan/JooseX/Bridge/Ext.js"></script>
		<script type="text/javascript">
		    JooseX.Bridge.Ext.meta.extend({ does : JooseX.Meta.Lazy })
			Ext.extend = JooseX.Bridge.Ext.my.extend 
		</script>
		
		<script type="text/javascript" src="/jsan/Task/ExtJS/Debug/All.js"></script>
		
		<!-- eof Ext bridge  -->
		
		<script type="text/javascript" src="/jsan/JooseX/SimpleRequest.js"></script>
		<script type="text/javascript" src="/jsan/Task/JooseX/Namespace/Depended/Web.js"></script>
		
		<script type="text/javascript" src="/jsan/ExtX/Reference/Slot.js"></script>
		
        <script type="text/javascript">
            Ext.onReady(function () {
                
	            var iframe = Ext.get(document.createElement('<iframe></iframe>'))
	            
	            iframe.applyStyles({
	                display : 'none'
	            })
	            
	            iframe.dom.src = "javascript:" + new Date().getTime()
	            
	            iframe.dom.id = 'mnemonic_' + new Date().getTime()
	            
				iframe.dom.attachEvent("onload", function () {
			        alert("IFRAME is now loaded with body: " + iframe.dom.contentWindow.document.body.innerText)
			    })
			    
                
                var counter = parseInt(window.location.hash.substr(1)) || 1
                alert("Hash during load: " + window.location.hash)
                
                
                var button = new Ext.Button({
                    renderTo : Ext.getBody(),
                    
                    text : 'hash #' + counter,
                    
                    handler : function () {
                        counter++
                        
                        var doc = iframe.dom.contentWindow.document
                        
                        doc.open()
                        doc.write('<html><body>' + counter + '</body></html>')
                        doc.close()
                        
                        button.setText('hash #' + counter)
                        
                        window.location.hash = counter
                    }
                })
                
                Ext.getBody().appendChild(iframe)
                
            })
            
        </script>
	</head>
	
	<body onunload="var a=123">
	</body>
</html>